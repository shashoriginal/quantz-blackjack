<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monte Carlo Blackjack Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #0B0E14;
            color: #E0E6ED;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        #game-area, #landing-form, #dashboard {
            background: #1A1F29;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.8);
            padding: 30px;
            width: 90%;
            max-width: 600px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        #game-area:hover, #landing-form:hover, #dashboard:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.9);
        }
        .button {
            background: linear-gradient(to right, #4C51BF, #3B82F6);
            color: #E0E6ED;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: bold;
            transition: background 0.3s ease, transform 0.2s;
            margin-top: 15px;
        }
        .button:hover {
            background: linear-gradient(to right, #3C409E, #2563EB);
            transform: scale(1.05);
        }
        input[type="text"] {
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #2D3748;
            outline: none;
            width: 90%;
            margin-bottom: 20px;
            background-color: #1A1F29;
            color: #E0E6ED;
            transition: border-color 0.3s;
        }
        input[type="text"]:focus {
            border-color: #4C51BF;
        }
        .card {
            display: inline-block;
            background: #2D3748;
            color: #E0E6ED;
            padding: 20px;
            margin: 5px;
            border-radius: 10px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
            font-weight: bold;
            font-size: 1.5rem;
            width: 60px;
            height: 100px;
            text-align: center;
            position: relative;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
        }
        .card .suit {
            font-size: 1.3rem;
            position: absolute;
            top: 5px;
            right: 5px;
        }
        #timer {
            font-size: 1.2rem;
            font-weight: bold;
            color: #F56565;
            margin-top: 15px;
        }
        .highlight {
            color: #48BB78;
        }
        footer {
            margin-top: 40px;
            color: #718096;
            font-size: 0.9rem;
        }
        footer a {
            color: #63B3ED;
            text-decoration: none;
            transition: color 0.3s;
        }
        footer a:hover {
            color: #3182CE;
        }
    </style>
</head>
<body>
    <div id="landing-form" class="p-8">
        <h1 class="text-5xl font-bold mb-6">Monte Carlo Blackjack</h1>
        <input type="text" id="player-name" placeholder="Enter your name" class="px-4 py-2 rounded-md mb-4">
        <button class="button" onclick="startGame()">Start Game</button>
    </div>
    <div id="game-area" class="hidden p-8">
        <h1 class="text-4xl font-bold mb-4">Monte Carlo Blackjack Game</h1>
        <p class="text-lg mb-2">Player: <span id="player" class="font-semibold"></span></p>
        <p class="text-lg mb-2">Current Wealth: $<span id="wealth" class="font-bold highlight">100000</span></p>
        <p class="text-lg mb-6">Current Bet: $<span id="bet" class="font-bold">5000</span></p>
        <div>
            <button class="button" onclick="raiseBet()">Raise Bet by $5,000</button>
            <button class="button" onclick="lowerBet()">Lower Bet by $3,000</button>
            <button class="button" onclick="allIn()">All In</button>
        </div>
        <div id="game-status" class="mb-4 text-lg"></div>
        <div class="mb-6">
            <div>Player's Hand:</div>
            <div id="player-hand" class="mb-4"></div>
            <div>Dealer's Hand:</div>
            <div id="dealer-hand" class="mb-4"></div>
        </div>
        <button id="hit-button" class="button" onclick="hit()">Hit</button>
        <button id="stand-button" class="button" onclick="stand()">Stand</button>
        <div id="timer">Time Left: <span id="time-left">30</span> seconds</div>
    </div>
    <div id="dashboard" class="hidden p-8">
        <h1 class="text-4xl font-bold mb-4">Game Over</h1>
        <p class="text-lg mb-6">Thank you for playing, <span id="player-name-dashboard" class="font-semibold"></span>!</p>
        <p class="text-lg mb-6">Final Wealth: $<span id="final-wealth" class="font-bold highlight"></span></p>
        <p class="text-lg mb-6">We hope you enjoyed the game!</p>
        <button class="button" onclick="restartGame()">Play Again</button>
    </div>
    <footer>
        Made with ❤️ by <a href="https://github.com/shashoriginal">Shashank</a>
    </footer>

    <script>
        let wealth = 100000;
        let currentBet = 5000;
        let playerName = "";
        let playerHand = [];
        let dealerHand = [];
        let gameEnded = false;
        let timeLeft = 30;
        let timerInterval;
        let roundCounter = 0;

        function startGame() {
            playerName = document.getElementById('player-name').value.trim();
            if (!playerName) {
                alert('Please enter your name to start the game.');
                return;
            }
            document.getElementById('landing-form').classList.add('hidden');
            document.getElementById('game-area').classList.remove('hidden');
            document.getElementById('player').textContent = playerName;
            startNewRound();
            startTimer();
        }

        function startNewRound() {
            if (roundCounter >= 20) {
                displayDashboard();
                return;
            }
            roundCounter++;
            playerHand = [drawCard(), drawCard()];
            dealerHand = [drawCard(), drawCard()];
            gameEnded = false;
            resetTimer();
            updateUI();
        }

        function drawCard() {
            const suits = ["♠", "♥", "♦", "♣"];
            const cards = ["A", "2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K"];
            const suit = suits[Math.floor(Math.random() * suits.length)];
            const card = cards[Math.floor(Math.random() * cards.length)];
            return { value: getCardValue(card), display: card, suit: suit };
        }

        function getCardValue(card) {
            if (card === "A") return 11;
            if (card === "J" || card === "Q" || card === "K") return 10;
            return parseInt(card);
        }

        function updateUI() {
            document.getElementById('wealth').textContent = wealth;
            document.getElementById('bet').textContent = currentBet;
            document.getElementById('player-hand').innerHTML = playerHand.map(card => `<span class="card">${card.display}<span class="suit">${card.suit}</span></span>`).join('');
            document.getElementById('dealer-hand').innerHTML = gameEnded ? dealerHand.map(card => `<span class="card">${card.display}<span class="suit">${card.suit}</span></span>`).join('') : `<span class="card">${dealerHand[0].display}<span class="suit">${dealerHand[0].suit}</span></span> <span class="card">?</span>`;
            document.getElementById('hit-button').disabled = gameEnded;
            document.getElementById('stand-button').disabled = gameEnded;
        }

        function raiseBet() {
            if (currentBet + 5000 <= wealth) {
                currentBet += 5000;
                updateUI();
            } else {
                alert("You don't have enough wealth to raise the bet.");
            }
        }

        function lowerBet() {
            if (currentBet - 3000 >= 1000) {
                currentBet -= 3000;
                updateUI();
            } else {
                alert("The minimum bet is $1,000.");
            }
        }

        function allIn() {
            currentBet = wealth;
            updateUI();
        }

        function calculateHandValue(hand) {
            let value = hand.reduce((acc, card) => acc + card.value, 0);
            let aceCount = hand.filter(card => card.value === 11).length;
            while (value > 21 && aceCount > 0) {
                value -= 10;
                aceCount--;
            }
            return value;
        }

        function hit() {
            if (gameEnded || timeLeft <= 0) return;
            playerHand.push(drawCard());
            resetTimer();
            if (calculateHandValue(playerHand) > 21) {
                endGame(false);
            } else {
                updateUI();
            }
        }

        function stand() {
            if (gameEnded || timeLeft <= 0) return;
            while (calculateHandValue(dealerHand) < 17 || (calculateHandValue(dealerHand) <= calculateHandValue(playerHand) && calculateHandValue(dealerHand) < 21)) {
                dealerHand.push(drawCard());
            }
            const playerValue = calculateHandValue(playerHand);
            const dealerValue = calculateHandValue(dealerHand);
            resetTimer();

            if (dealerValue > 21 || playerValue > dealerValue) {
                endGame(true);
            } else {
                endGame(false);
            }
        }

        function endGame(playerWon) {
            gameEnded = true;
            clearInterval(timerInterval);
            document.getElementById('hit-button').disabled = true;
            document.getElementById('stand-button').disabled = true;
            if (playerWon) {
                wealth += currentBet;
                document.getElementById('game-status').textContent = `You won! You gained $${currentBet}.`;
            } else {
                wealth -= currentBet;
                document.getElementById('game-status').textContent = `You lost! You lost $${currentBet}.`;
            }
            updateUI();
            if (wealth <= 0) {
                displayDashboard();
            } else {
                setTimeout(startNewRound, 2000);
            }
        }

        function displayDashboard() {
            document.getElementById('game-area').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            document.getElementById('player-name-dashboard').textContent = playerName;
            document.getElementById('final-wealth').textContent = wealth;
        }

        function restartGame() {
            wealth = 100000;
            currentBet = 5000;
            playerHand = [];
            dealerHand = [];
            gameEnded = false;
            timeLeft = 30;
            roundCounter = 0;
            document.getElementById('dashboard').classList.add('hidden');
            document.getElementById('landing-form').classList.remove('hidden');
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    endGame(false);
                    return;
                }
                timeLeft--;
                document.getElementById('time-left').textContent = timeLeft;
            }, 1000);
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timeLeft = 30;
            startTimer();
        }
    </script>
</body>
</html>
